@import './ag-theme-common';

// opacity values used for black values, taken from material spec
$foreground-opacity: 1 !default;
$secondary-foreground-color-opacity: 1 !default;
$disabled-foreground-color-opacity: 0.5 !default;

/////////////////////////////////////////////////////////////////////////////////////////////////////
// The variables below can be overriden to adjust the look up to the app color scheme
/////////////////////////////////////////////////////////////////////////////////////////////////////

// Sizing
$grid-size: 4px !default;
$icon-size: 12px !default;
$header-height: $grid-size * 6 + 1 !default;
$row-height: ($grid-size * 6 + 1) !default; 
$cell-horizontal-padding: $grid-size * 3;
$virtual-item-height: $grid-size * 5;
$header-icon-size: 14px;

// Icons
$icons-path: './icons/' !default;

// Fonts

$font-family: 'Helvetica Neue', sans-serif !default;
$font-size: 14px !default;
$font-weight: 400 !default;

$secondary-font-family: $font-family;
$secondary-font-size: 14px !default;
$secondary-font-weight: 400 !default;

// Colors
$icon-color: #333 !default;
$foreground-color: rgba(black, $foreground-opacity) !default;
$secondary-foreground-color: rgba(#333, $secondary-foreground-color-opacity) !default;
$disabled-foreground-color: rgba(black, $disabled-foreground-color-opacity) !default;
$menu-option-active-color: #BDE2E5 !default;

$card-background-color: #f6f6f6 !default;
$border-color: darkgrey !default;
$primary-color: black !default;
$accent-color: black !default;

$background-color: white !default;
$odd-row-background-color: #f6f6f6 !default;

$editor-background-color: lightgrey !default;

$header-background-color: transparent !default;
$header-background-image: linear-gradient(white, lightgrey) !default;
$panel-background-color: #f6f6f6 !default;

$tool-panel-background-color: #f6f6f6 !default;

$chip-background-color: #ECF0F1 !default;

$range-selection-background-color: rgba(120, 120, 120, 0.4) !default; // this should be pink, but indigo looks better
$range-selection-highlight-color: rgba(255, 255, 255, 0.4) !default;

$hover-color: inherit !default;

$selected-color: $menu-option-active-color !default;

$cell-data-changed-color: white !default;

$focused-cell-border-color: darkgrey !default;

$tab-background-color: #e6e6e6;

// Misc 
$transition-speed: 120ms !default;
$card-shadow: none;
$card-radius: 0;

$cell-highlight-border: 2px solid darkgreen !default;
$cell-horizontal-border: 1px dotted silver !default;

$ag-range-selected-color-1: rgba(120,120,120,0.4) !default;
$ag-range-selected-color-2: rgba(80,80,80,0.4) !default;
$ag-range-selected-color-3: rgba(40,40,40,0.4) !default;
$ag-range-selected-color-4: rgba(0,0,0,0.4) !default;

$params: (
    // sizing
    grid-size: $grid-size,
    icon-size: $icon-size,
    header-icon-size: $header-icon-size,
    row-height: $row-height,
    header-height: $header-height,
    virtual-item-height: $virtual-item-height,
    rich-select-item-height: $row-height,
    cell-horizontal-padding: $cell-horizontal-padding,

    icons-path: $icons-path,

    font-family: $font-family,
    font-size: $font-size,
    font-weight: $font-weight,

    secondary-font-family: $secondary-font-family,
    secondary-font-size: $secondary-font-size,
    secondary-font-weight: $secondary-font-weight,

    foreground-color: $foreground-color,
    foreground-opacity: $foreground-opacity,

    secondary-foreground-color-opacity: $secondary-foreground-color-opacity,
    secondary-foreground-color: $secondary-foreground-color,

    disabled-foreground-color-opacity: $disabled-foreground-color-opacity,
    disabled-foreground-color: $disabled-foreground-color,

    background-color: $background-color,
    odd-row-background-color: $odd-row-background-color,

    icon-color: $icon-color,
    border-color: $border-color,

    button-background-color: transparent,

    cell-data-changed-color: $cell-data-changed-color,

    chip-background-color: $chip-background-color,

    editor-background-color-color: $editor-background-color,

    range-selection-background-color: $range-selection-background-color,
    range-selection-highlight-color: $range-selection-highlight-color,

    header-background-color: $header-background-color,

    panel-background-color: $panel-background-color,

    tool-panel-background-color: $tool-panel-background-color,

    card-background-color: $card-background-color,

    accent-color: $accent-color,
    primary-color: $primary-color,
    hover-color: $hover-color,
    selected-color: $selected-color,

    icon-opacity: $foreground-opacity,
    button-text-transform: uppercase,
    card-radius: $card-radius,
    card-shadow: $card-shadow,
    input-height: $grid-size * 4,
);

.ag-theme-fresh {
    .ag-cell {
        box-sizing: border-box;
    }

    %card {
        border: 1px solid $border-color;
        background-color: $editor-background-color;
    }

    %tab {
        display: inline-block;
        margin: $grid-size;
        margin-bottom: 0;
        padding: $grid-size $grid-size * 2; 
        border: 1px solid transparent;
        border-bottom-width: 0;
    }

    %selected-tab {
        background-color: $editor-background-color;
        border-color: $border-color;
        border-bottom: 2px solid $editor-background-color;
    }

    @include ag-grid-theme($params);

    .ag-tab-header {
        background-color: $tab-background-color;
    }

    .ag-faded {
        opacity: 0.3;
    }

    .ag-header {
        border-bottom: 1px solid $border-color;
        background-image: $header-background-image ;
    }

    .ag-header-cell-resize::after {
        margin-top: 0;
        height: $header-height;
    }

    .ag-header-cell {
        border-right: 1px solid $border-color;
        box-sizing: border-box;
    }

    .ag-header-group-cell {
        border-right: 1px solid $border-color;
    }

    .ag-header-group-cell-with-group {
        border-bottom: 1px solid $border-color;
    }

    .ag-header-row {
        border-bottom: 0;
    }

    .ag-root {
        border: 1px solid $border-color;
    }

    .ag-tool-panel {
        border-top: 1px solid $border-color;
        border-bottom: 1px solid $border-color;
    }

    .ag-cell-no-focus {
        border-right: $cell-horizontal-border;
    }

    .ag-row {
        border-bottom-width: 0;
    }

    .ag-tool-panel .ag-column-drop .ag-column-drop-empty-message {
        line-height: $header-height;
    }

    .ag-floating-filter-button {
        margin-top: $grid-size * 2;
    }

    .ag-menu .ag-menu-option {
        line-height: $grid-size * 5;
    }

    .ag-filter .ag-filter-apply-panel {
        justify-content: flex-start;
    }

    .ag-cell:focus {
        border: 1px solid $focused-cell-border-color;
    }

    .ag-menu .ag-menu-option-active {
        background: $menu-option-active-color;
    }

    .ag-menu .ag-menu-option-active {
        background: $menu-option-active-color;
    }

    .ag-menu .ag-menu-option {
        line-height: $grid-size * 6;
    }

    .ag-column-drop-cell {
        background: $chip-background-color;
        border-radius: 0;
        background-image: $header-background-image;
        height: $grid-size * 5 !important;
        border: 1px solid $border-color;
    }

    // we do not want to color the range color when the cell is also focused
    .ag-cell-range-selected-1:not(.ag-cell-focus) {
        background-color: $ag-range-selected-color-1;
    }
    .ag-cell-range-selected-2:not(.ag-cell-focus) {
        background-color: $ag-range-selected-color-2;
    }
    .ag-cell-range-selected-3:not(.ag-cell-focus) {
        background-color: $ag-range-selected-color-3;
    }
    .ag-cell-range-selected-4:not(.ag-cell-focus) {
        background-color: $ag-range-selected-color-4;
    }

    .ag-cell-highlight {
        background-color: $ag-range-selected-color-1;
        border-bottom: $cell-highlight-border; 
    }

    .ag-cell-highlight-animation {
        transition: all 1s;
    }

    .ag-group-expanded {
        .ag-icon-contracted:empty {
            @include icon-background($params, 'contracted');
        }
    }

    .ag-rtl .ag-icon-tree-closed {
        @include icon-background($params, 'small-left');
    }

    .ag-cell-inline-editing {
        padding: 0;
        height: $row-height;

        input {
            box-sizing: border-box;
        }
    }

    .ag-column-drop-cell-button {
        box-sizing: border-box;
    }

    .ag-column-drop-cell-button:hover {
        border: 1px solid $border-color;
    }

    .ag-column-drop-vertical .ag-column-drop-cell {
        display: block;
        float: none;
    }

    .ag-tool-panel .ag-column-drop .ag-column-drop-title {
        float: none;
    }
}
